/*
 Version: 2.0.1
 Copyright (c) 2013 PJ Dietz
 http://pjdietz.com/jquery-plugins/lucid-tabs/

 @license MIT http://www.opensource.org/licenses/mit-license.php
*/
(function(d){var f,e,k;f=function(a,b){var c,g,l,h,f;this.initialized=!1;this.options=d.extend({},d.fn.tabs.defaults,b);this.selected=this.options.selected;this.tabs=[];c=this.options.locateTabs(a);h=0;for(f=c.length;h<f;h+=1)g=d(c[h]),l=this.options.locatePages(g,a),l.hide(),g=new e(g,l,this),this.tabs.push(g);!1!==this.options.selected&&this.select(this.options.selected);this.initialized=!0};f.prototype={getSelection:function(){var a,b,c;a=[];b=0;for(c=this.tabs.length;b<c;b+=1)this.tabs[b].selected&&
a.push(b);return a},select:function(a){var b,c;if(a instanceof e&&a.tabSet===this)this.selectTab(a);else if(isNaN(a))if("*"===a)this.selectAll();else if(d.isArray(a))for(b=0,c=a.length;b<c;b+=1)this.select(a[b]);else"string"===typeof a?this.select(d(a)):a instanceof jQuery&&(a=a.data("Tab"))&&this.select(a);else(a=this.getTabAtIndex(a))&&this.selectTab(a)},deselect:function(a){var b,c;if(a instanceof e&&a.tabSet===this)this.deselectTab(a);else if(isNaN(a))if("*"===a)this.options.allowNone&&this.deselectAll();
else if(d.isArray(a))for(b=0,c=a.length;b<c;b+=1)this.deselect(a[b]);else"string"===typeof a?this.deselect(d(a)):a instanceof jQuery&&this.deselect(a.data("Tab"));else(a=this.getTabAtIndex(a))&&this.deselectTab(a)},toggle:function(a){a instanceof e&&a.tabSet===this?this.toggleTab(a):isNaN(a)?"string"===typeof a?this.toggleTab(d(a)):a instanceof jQuery&&(a=a.data("Tab"))&&this.toggleTab(a):(a=this.getTabAtIndex(a))&&this.toggleTab(a)},selectAll:function(){var a,b;if(this.options.allowMultiple)for(a=
0,b=this.tabs.length;a<b;a+=1)this.tabs[a].select()},selectTab:function(a){var b,c,d;if(!a.selected){if(!this.options.allowMultiple)for(b=this.getSelection(),c=0,d=b.length;c<d;c+=1)this.tabs[b[c]].deselect();a.select()}},deselectAll:function(){var a,b;if(this.options.allowNone)for(a=0,b=this.tabs.length;a<b;a+=1)this.tabs[a].deselect()},deselectByIndex:function(a){this.tabs[a].selected&&(this.options.allowNone||1<this.getSelection().length)&&this.tabs[a].deselect()},deselectTab:function(a){a.selected&&
(this.options.allowNone||1<this.getSelection().length)&&a.deselect()},toggleTab:function(a){a.selected?this.deselectTab(a):this.selectTab(a)},getTabAtIndex:function(a){a=parseInt(a,10);return!isNaN(a)&&0<=a&&a<this.tabs.length?this.tabs[a]:!1},getIndex:function(a){var b,c;if(a instanceof e&&a.tabSet===this)for(b=0,c=this.tabs.length;b<c;b+=1)if(this.tabs[b]===a)return b;return!1}};e=function(a,b,c){this.elemTab=a;a.data("Tab",this);a.click(e.handleClick);this.page=new k(b,this);this.tabSet=c;this.selected=
!1};e.prototype={select:function(){var a;this.selected||(a=this.tabSet.options.cssSelected,"string"!==typeof a||this.elemTab.hasClass(a)||this.elemTab.addClass(a),this.page.show(),this.selected=!0,this.elemTab.trigger("selected"))},deselect:function(){var a=this.tabSet.options.cssSelected;this.selected&&("string"===typeof a&&this.elemTab.hasClass(a)&&this.elemTab.removeClass(a),this.page.hide(),this.selected=!1,this.elemTab.trigger("deselected.lucidtabs"))}};e.handleClick=function(a){a=d(this).data("Tab");
a.tabSet.toggle(a);return!1};k=function(a,b){this.elemPage=a;this.tab=b;this.visible=!1};k.prototype={show:function(){this.visible||(this.tab.tabSet.initialized?this.tab.tabSet.options.showPage(this.elemPage):this.elemPage.show(),this.visible=!0)},hide:function(){this.visible&&(this.tab.tabSet.options.hidePage(this.elemPage),this.visible=!1)}};d.fn.extend({tabs:function(a,b){var c,e;c=this.each(function(){var c;c=d(this).data("TabSet");void 0===c&&(c=new f(d(this),a),d(this).data("TabSet",c));switch(a){case "getSelection":return e=
c.getSelection(),!1;case "select":c.select(b);break;case "deselect":c.deselect(b);break;case "toggle":c.toggle(b)}});return void 0!==e?e:c}});d.fn.tabs.defaults={allowNone:!1,allowMultiple:!1,cssSelected:"selected",selected:0,locateTabs:function(a){return a.find("a[href^=#]")},locatePages:function(a){return d(a.attr("href"))},showPage:function(a){a.show()},hidePage:function(a){a.hide()}}})(jQuery);
